<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Simple To-Do List</title>
  <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">
  <link rel="stylesheet" href="/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

</head>
<body>
  <div class="row header">
    <h1 class="left-align col s12"><i class="material-icons">check</i> SIMPLE TO-DO LIST</h1>
    <a onclick="logout()">sign-out</a>
  </div>
  <div class="container">
    <div class="row">
      <div class="col s6 offset-s3">
        <table class="bordered">
          <tbody>
            <tr>
              <td>
                <input type="checkbox" class="filled-in" id="filled-in-box" checked="checked" />
                <label for="filled-in-box">사이트 만들기</label>
                <a><i class="material-icons">clear</i></a>
              </td>
            </tr>
            <tr>
              <td>
                <input type="checkbox" class="filled-in" id="filled-in-box+#key추가" checked="checked" />
                <label for="filled-in-box+#key추가">파이어베이스 강의듣기</label>
                <a><i class="material-icons">clear</i></a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  <div class="row">
    <div class="fixed-action-btn toolbar">
      <a class="btn-floating btn-large blue lighten-1">
        <i class="large material-icons">mode_edit</i>
      </a>
      <ul>
        <li class="waves-effect waves-light">
          <input id="input_text" class="col s4 offset-s4 input_to_do" type="text" data-length="10" placeholder=" character limit is 10. Enter to Save." required>
        </li>
      </ul>
    </div>
  </div>
</div>
<!-- 스크립트 시작   -->
<script src="https://www.gstatic.com/firebasejs/3.6.9/firebase.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>
<script>
// firebase 환경설정
var userInfo;
// Initialize Firebase
var config = {
  apiKey: "AIzaSyB4Sd9EV2tRoMXbid10k1tKO3vQn0w1Cwc",
  authDomain: "simple-todolist.firebaseapp.com",
  databaseURL: "https://simple-todolist.firebaseio.com",
  storageBucket: "simple-todolist.appspot.com",
  messagingSenderId: "305467197720"
};
firebase.initializeApp(config);
var provider = new firebase.auth.GoogleAuthProvider();


//로그인
firebase.auth().onAuthStateChanged(function(user){
  if (user){
    console.log('already login');
    userInfo = user; // 유저정보 저장
    get_list();
  } else {
    firebase.auth().signInWithPopup(provider); //로그인 팝업
    console.log('new login')
  }
})

//리스트 출력
function get_list(){
  console.log(userInfo.uid);

}

// 저장
$(function(){ // = $(document).ready(function() { ... });
    $(".input_to_do").keypress(function(e) {
      if(e.which == 13){
        alert('Enter pressed')
        save_data();
      }
    })
})

function save_data(){
  
}

//로그아웃
function logout(){
  firebase.auth().signOut().then(function(){
    console.log('sign-out successful');
  }, function(error){
    console.log('sign-out failed');
  });
}


</script>
</body>
</html>
